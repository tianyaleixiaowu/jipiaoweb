(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d627b8e"],{"0fd4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TableModel",{attrs:{hasSearch:e.hasSearch,tableConfig:e.tableConfig,table_column:e.table_column,searchUrl:e.searchUrl}})},r=[],o=a("6b0f"),c=a("bc3a"),l=a.n(c),i={data:function(){var e=this;this.$createElement;return{hasSearch:!0,table_column:[{title:"单位名称",align:"center",width:105,key:"companyName"},{title:"单位板块",width:105,align:"center",key:"panelname"},{title:"服务费收取方式",width:105,align:"center",key:"serverType"},{title:"收费数值",width:105,align:"center",key:"serverCost"},{title:"出票政策",width:105,align:"center",key:"policyType"},{title:"审批类型",width:105,align:"center",key:"approveType"},{title:"差旅控制方式",width:105,align:"center",key:"travelControlTypeValue"},{title:"是否可用",width:105,align:"center",key:"isEnable"},{title:"欠款期限",width:105,align:"center",key:"debtTime"},{title:"操作",align:"center",width:200,key:"edit",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},on:{click:function(){e.editUrl(a.row.id)}}},"修改"),t("span",["    "]),t("Button",{props:{type:"warning",size:"small"},on:{click:function(){e.confirm(a.row.id)}}},"禁用")])}}],searchUrl:"/api/company/list",tableConfig:{searchUrl:"/api/company/list",searchObj:[{type:"input",name:"companyName",view_name:"单位名称",placeholder:"请输入单位名称"},{type:"input",name:"单位板块",view_name:"key",placeholder:"请输入panelname"},{type:"select",name:"isEnable",view_name:"是否有效",placeholder:"请选择",data:[{id:1,name:"有效"},{id:0,name:"无效"}]}],buttonList:[{type:"modal",text:"添加公司",url:"/api/company/add",state:"add",component:"CompanyForm"}]}}},methods:{editUrl:function(e){this.$router.push({name:"companyEdit",query:{id:e}})},delMember:function(e){var t=this;l()({method:"POST",url:"/api/company/delete/".concat(e),headers:{userId:this.$store.state.user.userId}}).then(function(e){200==e.data.code&&(t.$Message.info("禁用成功"),t.$store.commit("refreshTable",{curtime:(new Date).getTime()}))})},confirm:function(e){var t=this;this.$Modal.confirm({title:"禁用公司",content:"你确定要禁用该公司么",onOk:function(){t.delMember(e)},onCancel:function(){t.$Message.info("Clicked cancel")}})}},components:{TableModel:o["a"]}},s=i,u=(a("ead7"),a("2877")),h=Object(u["a"])(s,n,r,!1,null,"5421574c",null);h.options.__file="company_search.vue";t["default"]=h.exports},3716:function(e,t,a){"use strict";var n=a("9516"),r=a.n(n);r.a},"37dc":function(e,t,a){"use strict";var n=a("4c27"),r=a.n(n);r.a},"3fe8":function(e,t,a){},"4c27":function(e,t,a){},"6b0f":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"searchMain"},[e.hasSearch?a("SearchForm",{staticStyle:{"margin-bottom":"15px"},attrs:{searchObj:e.tableConfig.searchObj,searchUrl:e.tableConfig.searchUrl,searchModel:e.getFormModel()}}):e._e(),e._l(e.tableConfig.buttonList,function(t){return a("Button",{key:t.url,class:0!=t.num?"searchBtnStyle":null,attrs:{type:"primary"},on:{click:function(a){e.addButton(t)}}},[e._v(e._s(t.text))])}),a("ViewTable",{staticStyle:{"margin-top":"15px"},attrs:{table_column:e.table_column,searchUrl:e.searchUrl,border:""}})],2)},r=[],o=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{attrs:{model:e.searchModel,"label-position":"left","label-width":70}},[a("Row",{attrs:{gutter:15}},[e._l(e.searchObj,function(t){return a("Col",{key:t.name,attrs:{span:"6"}},["input"===t.type?a("FormItem",{attrs:{label:t.view_name}},[a("Input",{attrs:{placeholder:t.placeholder},model:{value:e.searchModel[t.name],callback:function(a){e.$set(e.searchModel,t.name,a)},expression:"searchModel[item.name]"}})],1):"select"===t.type?a("FormItem",{attrs:{label:t.view_name}},[a("Select",{attrs:{placeholder:t.placeholder,filterable:""},model:{value:e.searchModel[t.name],callback:function(a){e.$set(e.searchModel,t.name,a)},expression:"searchModel[item.name]"}},e._l(t.data,function(t){return a("Option",{key:t.name,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1):e._e()],1)}),a("Col",{attrs:{span:"4"}},[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(t){e.getTableData()}}},[e._v("查询")])],1)],2)],1)}),c=[],l={props:["searchObj","searchModel","searchUrl"],data:function(){return{}},methods:{getTableData:function(){this.$store.commit("setSearchData",{searchData:this.searchModel,searchUrl:this.searchUrl,curtime:(new Date).getTime()})}},computed:{}},i=l,s=(a("37dc"),a("2877")),u=Object(s["a"])(i,o,c,!1,null,"ae40463e",null);u.options.__file="search_form.vue";var h=u.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Table",{staticStyle:{"margin-top":"15px"},attrs:{border:"",columns:e.table_column,data:e.table_data}}),a("Page",{attrs:{total:e.dataTotal,"page-size":e.pageSize,"show-total":""},on:{"on-change":e.changepage}})],1)},p=[],d=(a("96cf"),a("1da1")),f=(a("28a5"),a("7e1e")),b={props:["table_column","table_column","searchUrl"],data:function(){return{dataTotal:100,pageSize:10,curPage:0,table_data:[{code:"10281121",type:"0",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"},{code:"10281121",type:"1",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"},{code:"10281121",type:"1",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"},{code:"10281121",type:"1",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"},{code:"10281121",type:"1",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"},{code:"10281121",type:"1",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"},{code:"10281121",type:"1",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"},{code:"10281121",type:"1",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"},{code:"10281121",type:"1",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"},{code:"10281121",type:"1",name:"李小明",company:"阳光集团酒店公司",tel:"15712922312",sex:"男",work:"测试职务1",level:"副科级",total:"0"}]}},computed:{getSearchData:function(){return this.$store.state.table.curtime}},methods:{composeUrl:function(e,t){for(var a in e.indexOf("?")<0&&t&&(e+="?"),t)(t[a]||0===t[a])&&(e+="".concat(a,"=").concat(t[a],"&"));return"?"===e.charAt(e.length-1)&&(e=e.split("?")[0]),e},filters:function(e){return e.length<=0?[]:(e[0].hasOwnProperty("gender")&&e.map(function(e,t){return 1==e["gender"]?e["gender"]="男":e["gender"]="女",e}),e)},changepage:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=this.$store.state.table,n=this.composeUrl(this.searchUrl,a.searchData),n.indexOf("?")<0&&(n+="?"),t=--t,n+="page=".concat(t),this.refreshTable(n),this.$store.commit("setPgae",t);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),refreshTable:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["c"])(t,this.$store.state.user.token).then(function(e){var t=n.filters(e.data.data.list);return e.data.data.list=t,e});case 2:a=e.sent,this.table_data=a.data.data.list,this.pageSize=a.data.data.list.length||10,this.dataTotal=a.data.data.totalCount;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},mounted:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.searchUrl,this.refreshTable(t);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),watch:{getSearchData:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store.state.table,a=this.composeUrl(this.searchUrl,t.searchData),a===this.$store.state.table.curUrl){e.next=4;break}return e.abrupt("return",!1);case 4:this.$store.commit("setPgae",0),this.refreshTable(a);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},y=b,g=(a("7d65"),Object(s["a"])(y,m,p,!1,null,"8e08f4e2",null));g.options.__file="view_table.vue";var v=g.exports,w={props:["tableConfig","table_column","searchUrl","hasSearch"],data:function(){return{}},methods:{getFormModel:function(){var e=this.tableConfig.searchObj,t=(e.length,{});return e.map(function(e,a){"input"===e.type?t[e.name]="":"select"===e.type&&(t[e.name]="")}),t},addButton:function(e){e.curtime=(new Date).getTime(),e.status=!0,"modal"===e.type&&this.$store.commit("modalStatus",e)}},components:{SearchForm:h,ViewTable:v}},_=w,k=(a("3716"),Object(s["a"])(_,n,r,!1,null,"5163d6ce",null));k.options.__file="table_model.vue";t["a"]=k.exports},"7d65":function(e,t,a){"use strict";var n=a("d64c"),r=a.n(n);r.a},9516:function(e,t,a){},d64c:function(e,t,a){},ead7:function(e,t,a){"use strict";var n=a("3fe8"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-7d627b8e.1c6bca60.js.map